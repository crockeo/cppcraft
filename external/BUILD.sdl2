# TODO: actually build it ourselves
# so that we have a hermetic build
cc_library(
    name = "sdl2",
    visibility = ["//visibility:public"],
    hdrs = glob(["include/SDL2/*.h"]),
    includes = ["include"],
    linkopts = [
        "-L/opt/homebrew/Cellar/sdl2/2.0.20/lib/",
	"-lSDL2",
    ],
)

cc_library(
    name = "sdl2_core",
    visibility = ["//visibility:public"],
    srcs = glob([
        "src/*.c",
        "src/atomic/*.c",
        "src/audio/*.c",
        "src/core/*.c",
        "src/cpuinfo/*.c",
        "src/dynapi/*.c",
        "src/events/*.c",
        "src/file/*.c",
        "src/filesystem/*.c",
        "src/haptic/*.c",
        "src/hidapi/*.c",
        "src/joystick/*.c",
        "src/libm/*.c",
        "src/loadso/*.c",
        "src/locale/*.c",
        "src/main/*.c",
        "src/misc/*.c",
        "src/power/*.c",
        "src/render/*.c",
        "src/sensor/*.c",
        "src/stdlib/*.c",
        "src/test/*.c",
        "src/thread/*.c",
        "src/timer/*.c",
        "src/video/*.c",
    ]),
    hdrs = glob([
        "src/**/*.h",
	"include/**/*.h",
    ]),
    includes = [
        "include",
    ],
)

objc_library(
    name = "sdl2_macos_mixin",
    srcs = [
    ],
)

cc_library(
    name = "sdl2_macos",
    visibility = ["//visibility:public"],
    srcs = glob([
    ]),
    deps = [
        ":sdl2_core",
	":sdl2_macos_mixin",
    ],
)